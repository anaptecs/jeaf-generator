extension java::GeneratorCommons;
extension functions::OpenAPIDataType;
extension functions::Class;

cached boolean isPOJO(uml::Element element):
    element.isStereotypeApplied("POJO");
    
cached JMM::POJO asPOJO(uml::Element element):
    (JMM::POJO) element;
    
cached boolean generateOfOperationForPOJO(uml::Class class, boolean defaultValue):
    if class.isPOJO() == false
    then false
    else 
    	if  class.asPOJO().ofMethod.name == "NONE"
    	then false
    	else
    		if class.asPOJO().ofMethod.name == "DEFAULT"
    		then defaultValue
    		else true;
    
cached boolean requiresCustomImplementationForClass(uml::Class class):
	if class.isPOJO()
	then class.asPOJO().requiresCustomImplementationForPOJO()
	else false;

cached boolean requiresCustomImplementationForPOJO(JMM::POJO pojo):
	// In case of abstract pojo classes derived properties do not lead to a custom class unless it is explicity defined using tagged value "hasCustomImplementation"
	if pojo.isAbstract
	then !(pojo.ownedOperation.size == 0 && pojo.hasCustomImplementation == false                                         && (pojo.compositeDataTypeCustomSerialization == false || (pojo.compositeDataTypeCustomSerialization == true && pojo.generateInternalViewOfCompositeDataType() == false)))
	else !(pojo.ownedOperation.size == 0 && pojo.hasCustomImplementation == false && pojo.hasDerivedProperties() == false && (pojo.compositeDataTypeCustomSerialization == false || (pojo.compositeDataTypeCustomSerialization == true && pojo.generateInternalViewOfCompositeDataType() == false)));
	
